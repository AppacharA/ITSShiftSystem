<head>
   <link rel="stylesheet" href="{{ url_for('static', filename='css/main.css') }}"> 
    
</head>

<h1>ITS Helpdesk Worker Headquarters</h1>

<main>
  
     
   
  <input id="tab1" type="radio" name="tabs" checked>
  <label for="tab1">Clock In</label>
    
  <input id="tab2" type="radio" name="tabs">
  <label for="tab2">Lab Rounds</label>
    
  
  
  <input id="tab3" type="radio" name="tabs" onclick = "populateTable()" >
  <label for="tab3">Sub Requests</label>



    
  <input id="tab4" type="radio" name="tabs">
  <label for="tab4">Shift Calendar</label>
    
  <section id="content1"> <!--For this one you want a clock and the checkin button -->
    <p>
      Bacon ipsum dolor sit amet beef venison beef ribs kielbasa. Sausage pig leberkas, t-bone sirloin shoulder bresaola. Frankfurter rump porchetta ham. Pork belly prosciutto brisket meatloaf short ribs.
    </p>
   

    <p>

    <span id = "checkinClock">&nbsp;</span>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src = "{{url_for('static', filename='js/workerConsole.js')}}"></script> <!-- why does this only work when the script is placed after the variable is initialized -->
    </p>
     
   
    <!-- We want to disable the button and display check in time if the user has already checked in.-->
     


    <button class="button" id="checkinButton" onclick = "checkIn()"  {% if data[0] == True %} disabled > {{data[1]}} </button> <!-- disable the button if he's already checked in for a shift. -->

    {% else %}

    <button class="button" id="checkinButton" onclick = "checkIn()"  > Check-In </button>

    {%endif%}
    <!-- <script>     
     //This code is to ensure that if the user is already checked in, the button remains disabled even upon page refresh.
    var checkedIn = '{{data[0]}}';
    var checkInTime = '{{data[1]}}';
  
    window.onload = enableDisableCheckin(checkedIn, checkInTime); //Check if user is checked in on page reload.
    </script>  -->   
  
  </section>
    
  <section id="content2"> <!--For this one you want sub requests -->
    <p>
      Bacon ipsum dolor sit amet landjaeger sausage brisket, jerky drumstick fatback boudin ball tip turducken. Pork belly meatball t-bone bresaola tail filet mignon kevin turkey ribeye shank flank doner cow kielbasa shankle. Pig swine chicken hamburger, tenderloin turkey rump ball tip sirloin frankfurter meatloaf boudin brisket ham hock. Hamburger venison brisket tri-tip andouille pork belly ball tip short ribs biltong meatball chuck. Pork chop ribeye tail short ribs, beef hamburger meatball kielbasa rump corned beef porchetta landjaeger flank. Doner rump frankfurter meatball meatloaf, cow kevin pork pork loin venison fatback spare ribs salami beef ribs.
    </p>
    <p>
      Jerky jowl pork chop tongue, kielbasa shank venison. Capicola shank pig ribeye leberkas filet mignon brisket beef kevin tenderloin porchetta. Capicola fatback venison shank kielbasa, drumstick ribeye landjaeger beef kevin tail meatball pastrami prosciutto pancetta. Tail kevin spare ribs ground round ham ham hock brisket shoulder. Corned beef tri-tip leberkas flank sausage ham hock filet mignon beef ribs pancetta turkey.
    </p>
  </section>
    
  <section id="content3"> <!--For this one you want the sub requests -->
    
    <div style = "overflow-y:auto;">
    <table style = "width:50%" id = "subRequestableShiftTable">
      <tr> <!-- defining the table headers... -->
        <th>Time</th>
        <th>Location</th>
        <th>Date</th>
        <th>Day</th>
        <th>?!?!?!?</th>
      </tr> 

    {% for row in subRequestableShifts %} <!-- row is a tuple containing the following info: (shiftid, time, location, date, day, subRequested)-->
    <tr>
      <td>{{row[1]}}</td>
      <td>{{row[2]}}</td>
      <td>{{row[3]}}</td>
      <td>{{row[4]}}</td>
      {% if row[5] == False %} <!-- if the shift has not been sub requested -->
      <td><button class="button" id = "subButton {{row[0]}}" value = "subUnrequested" onclick = "requestUnrequestSub(this, '{{row[0]}}')" >Request Sub</button> </td> <!-- you can pass the direct shiftid this is amazing!-->
      {% else %}
      <td><button class="button" id = "subButton {{row[0]}}" value = "subRequested" onclick = "requestUnrequestSub(this, '{{row[0]}}')">Unrequest Sub</button> </td>
      {%endif%}
    </tr>
    
    {% endfor %}
    </table>
    </div>

    <div style = "overflow-y: auto;">
      <table style = "width:50%" id = "subbableShiftTable">
        <tr> <!-- defining the table headers... -->
        <th>Time</th>
        <th>Location</th>
        <th>Date</th>
        <th>Day</th>
        <th>?!?!?!?</th>
      </tr> 
      {% for row in subbableShifts %} <!-- row is a tuple containing the following info: (shiftid, time, location, date, day, original employee id)-->
      <tr>
        <td>{{row[1]}}</td>
        <td>{{row[2]}}</td>
        <td>{{row[3]}}</td>
        <td>{{row[4]}}</td>
        
        <td><button class="button" id = "sub_shift_{{row[0]}}_emp_{{row[5]}}" >
       {% if employeeID == row[5] %}  <!-- If the subbable shift is actually originally manned by the same employee who is currently logged in-->
        Your Shift
        {%else%}
        Sub? 
        {% endif %}
      </button></td>

          
      </tr>
      {% endfor %}
      </table>


    </div>
    
    <p>
      Bacon ipsum dolor sit amet beef venison beef ribs kielbasa. Sausage pig leberkas, t-bone sirloin shoulder bresaola. Frankfurter rump porchetta ham. Pork belly prosciutto brisket meatloaf short ribs.
    </p>
    <p>
      Brisket meatball turkey short loin boudin leberkas meatloaf chuck andouille pork loin pastrami spare ribs pancetta rump. Frankfurter corned beef beef tenderloin short loin meatloaf swine ground round venison.
    </p>
  </section>
    
  <section id="content4">
    <p>
      Bacon ipsum dolor sit amet landjaeger sausage brisket, jerky drumstick fatback boudin ball tip turducken. Pork belly meatball t-bone bresaola tail filet mignon kevin turkey ribeye shank flank doner cow kielbasa shankle. Pig swine chicken hamburger, tenderloin turkey rump ball tip sirloin frankfurter meatloaf boudin brisket ham hock. Hamburger venison brisket tri-tip andouille pork belly ball tip short ribs biltong meatball chuck. Pork chop ribeye tail short ribs, beef hamburger meatball kielbasa rump corned beef porchetta landjaeger flank. Doner rump frankfurter meatball meatloaf, cow kevin pork pork loin venison fatback spare ribs salami beef ribs.
    </p>
    <p>
      Jerky jowl pork chop tongue, kielbasa shank venison. Capicola shank pig ribeye leberkas filet mignon brisket beef kevin tenderloin porchetta. Capicola fatback venison shank kielbasa, drumstick ribeye landjaeger beef kevin tail meatball pastrami prosciutto pancetta. Tail kevin spare ribs ground round ham ham hock brisket shoulder. Corned beef tri-tip leberkas flank sausage ham hock filet mignon beef ribs pancetta turkey.
    </p>
  </section>

  
</main>
